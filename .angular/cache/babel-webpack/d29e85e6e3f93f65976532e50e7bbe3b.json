{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/loan-application.service\";\n\nfunction EligibilityResultsComponent_div_3_li_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const factor_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate3(\" \", factor_r3.factor, \": \", factor_r3.impact, \" (Weight: \", factor_r3.weight, \") \");\n  }\n}\n\nfunction EligibilityResultsComponent_div_3_li_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const product_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", product_r4.productName, \" (\", product_r4.productType, \") \");\n  }\n}\n\nfunction EligibilityResultsComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelementStart(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"h3\");\n    i0.ɵɵtext(16, \"Decision Factors\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"ul\");\n    i0.ɵɵtemplate(18, EligibilityResultsComponent_div_3_li_18_Template, 2, 3, \"li\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"h3\");\n    i0.ɵɵtext(20, \"Alternative Products\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"ul\");\n    i0.ɵɵtemplate(22, EligibilityResultsComponent_div_3_li_22_Template, 2, 2, \"li\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Eligibility: \", ctx_r0.eligibilityResult.isEligible ? \"Eligible\" : \"Not Eligible\", \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Score: \", ctx_r0.eligibilityResult.score, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Maximum Eligible Amount: \", i0.ɵɵpipeBind1(7, 8, ctx_r0.eligibilityResult.maximumEligibleAmount), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Suggested Interest Rate: \", ctx_r0.eligibilityResult.suggestedInterestRate, \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Suggested Term: \", ctx_r0.eligibilityResult.suggestedTermMonths, \" months\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Monthly Payment Estimate: \", i0.ɵɵpipeBind1(14, 10, ctx_r0.eligibilityResult.monthlyPaymentEstimate), \"\");\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.eligibilityResult.decisionFactors);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.eligibilityResult.alternativeProducts);\n  }\n}\n\nexport let EligibilityResultsComponent = /*#__PURE__*/(() => {\n  class EligibilityResultsComponent {\n    constructor(route, router, loanService) {\n      this.route = route;\n      this.router = router;\n      this.loanService = loanService;\n      this.applicationId = '';\n      this.application = null;\n      this.eligibilityResult = null;\n      this.loading = true;\n      this.error = '';\n    }\n\n    ngOnInit() {\n      this.route.params.subscribe(params => {\n        this.applicationId = params['applicationId'];\n        this.loadApplicationData();\n      });\n    }\n\n    loadApplicationData() {\n      if (!this.applicationId) {\n        this.error = 'Application ID is missing';\n        this.loading = false;\n        return;\n      }\n\n      this.loanService.getApplicationById(this.applicationId).subscribe(application => {\n        this.application = application;\n        this.checkEligibility();\n      }, error => {\n        console.error('Error loading application', error);\n        this.error = 'Failed to load application data';\n        this.loading = false;\n      });\n    }\n\n    checkEligibility() {\n      this.loanService.checkEligibility(this.applicationId).subscribe(result => {\n        this.eligibilityResult = result;\n        this.loading = false;\n      }, error => {\n        console.error('Error checking eligibility', error);\n        this.error = 'Failed to determine eligibility. Please try again later.';\n        this.loading = false;\n      });\n    }\n\n    getProductTypeDisplay(type) {\n      switch (type) {\n        case 'CAR_LOAN':\n          return 'Car Loan';\n\n        case 'PERSONAL_LOAN':\n          return 'Personal Loan';\n\n        case 'CREDIT_CARD':\n          return 'Premium Credit Card';\n\n        case 'LINE_OF_CREDIT':\n          return 'Line of Credit';\n\n        default:\n          return type;\n      }\n    }\n\n    getScoreClass(score) {\n      if (score >= 80) return 'score-excellent';\n      if (score >= 60) return 'score-good';\n      if (score >= 40) return 'score-average';\n      return 'score-poor';\n    }\n\n    getImpactClass(impact) {\n      switch (impact) {\n        case 'POSITIVE':\n          return 'impact-positive';\n\n        case 'NEGATIVE':\n          return 'impact-negative';\n\n        default:\n          return 'impact-neutral';\n      }\n    }\n\n    formatCurrency(amount) {\n      return new Intl.NumberFormat('en-US', {\n        style: 'currency',\n        currency: 'USD'\n      }).format(amount);\n    }\n\n    navigateToDashboard() {\n      this.router.navigate(['/dashboard']);\n    }\n\n    applyForAlternative(productType) {\n      this.router.navigate(['/apply'], {\n        queryParams: {\n          productType: productType\n        }\n      });\n    }\n\n  }\n\n  EligibilityResultsComponent.ɵfac = function EligibilityResultsComponent_Factory(t) {\n    return new (t || EligibilityResultsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.LoanApplicationService));\n  };\n\n  EligibilityResultsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EligibilityResultsComponent,\n    selectors: [[\"app-eligibility-results\"]],\n    decls: 6,\n    vars: 1,\n    consts: [[1, \"eligibility-results-container\"], [4, \"ngIf\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function EligibilityResultsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h2\");\n        i0.ɵɵtext(2, \"Eligibility Results\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, EligibilityResultsComponent_div_3_Template, 23, 12, \"div\", 1);\n        i0.ɵɵelementStart(4, \"button\", 2);\n        i0.ɵɵlistener(\"click\", function EligibilityResultsComponent_Template_button_click_4_listener() {\n          return ctx.navigateToDashboard();\n        });\n        i0.ɵɵtext(5, \"Back to Dashboard\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.eligibilityResult);\n      }\n    },\n    styles: [\".eligibility-results-container[_ngcontent-%COMP%]{max-width:800px;margin:50px auto;padding:20px;border:1px solid #ccc;border-radius:5px;box-shadow:0 0 10px #0000001a}.eligibility-results-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.eligibility-results-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.eligibility-results-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;padding:0}.eligibility-results-container[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px}.eligibility-results-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}\"]\n  });\n  return EligibilityResultsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}